---
title: 2019-01-27-algorithms4-first
tags:
  - 算法
  - 读书
---


## 5.1 字符串排序

### 5.1.1 键索引计数法

大致分为四个部分：

1. **计算出现频率**

   选择可代表该字符串的一个 key ，按照这个 key 将字符串按某种顺序分组，计算各组中的字符串个数。

   例如：将字符串分为 0、1、2、3、4、5 个组 (key) ，最终完成之后数组 count[5] 中便存放有这五组类别中中字符串的个数。

   实现：(N为字符串个数)

   ```java
   for (int i = o; i < N; i++) {
       count[a[i].key() + 1] ++;
   }
   ```

2. **将频率转化为索引**

   按分组后每个没类别的个数计算出各个类别的起始索引。

   例如：第 0 组中有 5 个字符串，第 1 组中有 3 个字符串，可知第三组起始索引为 8 。

   实现：(R 位组个数)

   ```java
   for (int r = 0; r < R; r++) {
       count[r+1] = count[r]
   }
   ```

3. **将元素分类**

   将元素按类别顺序分类，即将属于相应类别的字符串放入到该类别起始索引到下一类别起始索引之间。

   例如：判断该字符串属于第 1 组，将其放入第一组起始位置处，**并将该组起始索引 +1**。

   实现：

   ```java
   for (int i = 0; i < N; i++) {
       aux[count[a[i].key()]++] = a[i];
   }
   ```

4. **回写**

   将排好序的字符串数组复制回原数组。

   ```java
   for (int i = 0; i < N; i++) {
       a[i] = aux[i];
   }
   ```

### 5.1.2 低位优先的字符串排序

以键索引计数法为基础，将字符串数组进行多次排序。

书中以将若干个车牌号字符串排序为例，已知代表车牌号的字符串长度相同为 W ，则只需将车牌号进行 W 次排序。

**键的选取：**即每次排序以何种手段将字符串分类，低位优先中的方法是将字符串左到右将每个字符看作 key 分类排序，以此方法每次排序将会有一共 R=256 个类别。

实现：

```java
public class LSD {
    public static void sort(String[] a, int w) {
        int N = a.length;
        int R = 256;
        String aux = new String[N];
        
        for (int d = w-1; d >= 0; d--) {
            // 根据第d个字符用键索引计数法排序
            int[] count = new int[R+1];
            for (int i = o; i < N; i++) { // 计算出现频率
                count[a[i].charAt(d) + 1] ++;
            }
            for (int r = 0; r < R; r++) { // 将频率转化为索引
                count[r+1] = count[r]
            }
            for (int i = 0; i < N; i++) { // 将元素分类
                aux[count[a[i].charAt(d)]++] = a[i];
            }
			for (int i = 0; i < N; i++) { //回写
                a[i] = aux[i];
            }
        }
    }
}
```

